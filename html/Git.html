<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>Git</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<h1 id="toc_1">Git</h1>
<h2 id="toc_1.1">Config</h2>
<p>
配置
</p>
<pre>
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.cm commit -a -m
git config --global alias.df diff
git config --global alias.dt difftool
git config --global alias.st status
git config --global alias.unstage 'reset HEAD --'
git config --global alias.last 'log -1 HEAD'
</pre>
<p>
.gitconfig
</p>
<pre>
[core]
	editor = vim
	excludesfile = /home/imcoddy/.gitignore
[alias]
    co = checkout
    br = branch
    ci = commit
    st = status
    cm = commit -a -m
    df = diff
    dt = difftool
[merge]
	tool = vimdiff
[diff]
	tool = vimdiff
</pre>
<h2 id="toc_1.2">Usage</h2>
<h2 id="toc_1.3">Resources</h2>
<ul>
<li>
[<a href="http://progit.org/book/zh/">http://progit.org/book/zh/</a> Pro Git]

<li>
[<a href="http://www.linuxgem.org/user_files/linuxgem/Image/git-tutor.pdf">http://www.linuxgem.org/user_files/linuxgem/Image/git-tutor.pdf</a> Git tutor ]

</ul>

<p>
Cloning a Project with Submodules
$ git submodule init
t常用操作命令收集：
1) 远程仓库相关命令
检出仓库：$ git clone <a href="git://github.com/jquery/jquery.git">git://github.com/jquery/jquery.git</a>
查看远程仓库：$ git remote -v
添加远程仓库：$ git remote add [name] [url]
删除远程仓库：$ git remote rm [name]
修改远程仓库：$ git remote set-url --push [name] [newUrl]
拉取远程仓库：$ git pull [remoteName] [localBranchName]
推送远程仓库：$ git push [remoteName] [localBranchName]
</p>

<ul>
<li>
如果想把本地的某个分支test提交到远程仓库，并作为远程仓库的master分支，或者作为另外一个名叫test的分支，如下：

</ul>
<p>
$ git push origin test:master         // 提交本地test分支作为远程的master分支
$ git push origin test:test              // 提交本地test分支作为远程的test分支
</p>

<p>
2）分支(branch)操作相关命令
查看本地分支：$ git branch
查看远程分支：$ git branch -r （如果还是看不到就先 git fetch origin 先）
创建本地分支：$ git branch [name] ----注意新分支创建后不会自动切换为当前分支
切换分支：$ git checkout [name]
创建新分支并立即切换到新分支：$ git checkout -b [name]
直接检出远程分支：$ git checkout -b [name] [remoteName] (如：git checkout -b myNewBranch origin/dragon)
删除分支：$ git branch -d [name] ---- -d选项只能删除已经参与了合并的分支，对于未有合并的分支是无法删除的。如果想强制删除一个分支，可以使用-D选项
合并分支：$ git merge [name] ----将名称为[name]的分支与当前分支合并
创建远程分支(本地分支push到远程)：$ git push origin [name]
删除远程分支：\( git push origin :heads/[name] 或 \) git push origin :[name]
</p>

<ul>
<li>
创建空的分支：(执行命令之前记得先提交你当前分支的修改，否则会被强制删干净没得后悔)

</ul>
<p>
$ git symbolic-ref HEAD refs/heads/[name]
$ rm .git/index
$ git clean -fdx
</p>

<p>
3）版本(tag)操作相关命令
查看版本：$ git tag
创建版本：$ git tag [name]
删除版本：$ git tag -d [name]
查看远程版本：$ git tag -r
创建远程版本(本地版本push到远程)：$ git push origin [name]
删除远程版本：$ git push origin :refs/tags/[name]
合并远程仓库的tag到本地：$ git pull origin --tags
上传本地tag到远程仓库：$ git push origin --tags
创建带注释的tag：$ git tag -a [name] -m 'yourMessage'
</p>

<p>
4) 子模块(submodule)相关操作命令
添加子模块：$ git submodule add [url] [path]
</p>
<blockquote>
如：$ git submodule add <a href="git://github.com/soberh/ui-libs.git">git://github.com/soberh/ui-libs.git</a> src/main/webapp/ui-libs
</blockquote>
<p>
初始化子模块：$ git submodule init  ----只在首次检出仓库时运行一次就行
更新子模块：$ git submodule update ----每次更新或切换分支后都需要运行一下
删除子模块：（分4步走哦）
 1) $ git rm --cached [path]
 2) 编辑“.gitmodules”文件，将子模块的相关配置节点删除掉
 3) 编辑“ .git/config”文件，将子模块的相关配置节点删除掉
 4) 手动删除子模块残留的目录
</p>

<p>
5）忽略一些文件、文件夹不提交
在仓库根目录下创建名称为“.gitignore”的文件，写入不需要的文件夹名或文件，每个元素占一行即可，如
target
bin
*.db
</p>

<p>
6）后悔药
删除当前仓库内未受版本管理的文件：$ git clean -f
恢复仓库到上一次的提交状态：$ git reset --hard
</p>

<p>
7）Git一键推送多个远程仓库
编辑本地仓库的.git/config文件：
[remote "all"]
</p>
<blockquote>
url = git@github.com:dragon/test.git
url = git@gitcafe.com:dragon/test.git
</blockquote>
<p>
这样，使用git push all即可一键Push到多个远程仓库中。
</p>

<p>
$ git submodule update
</p>

</body>
</html>
